{
  "version": 3,
  "sources": ["../src/error-reporter.tsx"],
  "sourcesContent": ["/**\r\n * Tixly Error Reporter \r\n * A lightweight, customizable error reporting widget for web applications.\r\n * \r\n * Features:\r\n * - Floating button to report errors\r\n * - Form to submit bug reports\r\n * - Customizable endpoints for different types of reports\r\n * - Auto-detection of module, tab, and project key\r\n * - Integration with Tixly's ticketing system  \r\n */ \r\ntype ErrorReportPayload = {\r\n  project_key: string;\r\n  module: string;\r\n  tab: string;\r\n  description: string;\r\n  reported_by: string;\r\n};\r\n\r\ntype ErrorReporterAPI = {\r\n  open: () => void;\r\n  close: () => void;\r\n  toggle: () => void;\r\n};\r\n\r\ndeclare global {\r\n  interface Window {\r\n    __tixlyErrorReporterInitialized?: boolean;\r\n    __tixlyErrorReporterAPI?: ErrorReporterAPI;\r\n  }\r\n}\r\n\r\n\r\nexport type ErrorReporterConfig = {\r\n  endpoints: {\r\n    Bug: string;\r\n    \"New Ticket\": string;\r\n  };\r\n  apiKey: string;\r\n};\r\n\r\nfunction deriveModule() {\r\n  return window.location.pathname.split(\"/\")[1] || \"dashboard\";\r\n}\r\nfunction deriveTab() {\r\n  return window.location.href;\r\n}\r\nfunction deriveProjectKey() {\r\n  return window.location.hostname.split(\".\")[0];\r\n}\r\nfunction deriveReportedBy() {\r\n  return localStorage.getItem(\"tixly_user_name\") || \"Anonymous\";\r\n}\r\n\r\nfunction createEl<K extends keyof HTMLElementTagNameMap>(\r\n  tag: K,\r\n  attrs?: Record<string, string>,\r\n  children?: (HTMLElement | Text)[],\r\n): HTMLElementTagNameMap[K] {\r\n  const el = document.createElement(tag);\r\n  if (attrs) Object.entries(attrs).forEach(([k, v]) => el.setAttribute(k, v));\r\n  if (children) children.forEach((c) => el.appendChild(c));\r\n  return el;\r\n}\r\nfunction text(t: string) {\r\n  return document.createTextNode(t);\r\n}\r\n\r\nasync function fetchWithRetry(\r\n  url: string,\r\n  payload: ErrorReportPayload,\r\n  apiKey: string,\r\n  attempts = 2,\r\n  delay = 500,\r\n) {\r\n  let lastErr: unknown;\r\n  for (let i = 0; i <= attempts; i++) {\r\n    try {\r\n      const res = await fetch(url, {\r\n        method: \"POST\",\r\n        headers: { \"Content-Type\": \"application/json\", apikey: apiKey },\r\n        body: JSON.stringify(payload),\r\n      });\r\n      if (!res.ok) throw new Error(`HTTP ${res.status}`);\r\n      return res;\r\n    } catch (e) {\r\n      lastErr = e;\r\n      await new Promise((r) => setTimeout(r, delay * Math.pow(2, i)));\r\n    }\r\n  }\r\n  throw lastErr instanceof Error ? lastErr : new Error(String(lastErr));\r\n}\r\n\r\nfunction renderStyles(): HTMLStyleElement {\r\n  const style = document.createElement(\"style\");\r\n  style.textContent = `\r\n    .er-root {\r\n      --er-primary: hsl(var(--primary, 195 100% 43%));\r\n      --er-bg: hsl(var(--background, 0 0% 100%));\r\n      --er-foreground: hsl(var(--foreground, 208 100% 21%));\r\n      --er-border: hsl(var(--border, 214.3 31.8% 91.4%));\r\n      --er-muted: hsl(var(--muted, 210 20% 96%));\r\n      --er-muted-foreground: hsl(var(--muted-foreground, 208 20% 45%));\r\n      --er-radius: var(--radius, 0.75rem);\r\n      \r\n      position: fixed;\r\n      bottom: 24px;\r\n      right: 24px;\r\n      z-index: 99999;\r\n      font-family: 'Inter', -apple-system, system-ui, sans-serif;\r\n      color: var(--er-foreground);\r\n    }\r\n    \r\n    .er-badge {\r\n      background: var(--er-primary);\r\n      color: #fff;\r\n      border-radius: 999px;\r\n      padding: 12px 20px;\r\n      cursor: pointer;\r\n      display: flex;\r\n      align-items: center;\r\n      gap: 8px;\r\n      border: none;\r\n      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);\r\n      transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);\r\n      font-weight: 600;\r\n      font-size: 14px;\r\n    }\r\n    .er-badge:hover {\r\n      transform: translateY(-2px);\r\n      box-shadow: 0 6px 16px rgba(0, 0, 0, 0.2);\r\n      filter: brightness(1.1);\r\n    }\r\n    .er-badge:active { transform: translateY(0); }\r\n\r\n    .er-widget {\r\n      width: 340px;\r\n      background: hsla(var(--background, 0 0% 100%), 0.85);\r\n      backdrop-filter: blur(12px) saturate(180%);\r\n      -webkit-backdrop-filter: blur(12px) saturate(180%);\r\n      border: 1px solid var(--er-border);\r\n      border-radius: var(--er-radius);\r\n      box-shadow: 0 12px 40px rgba(0, 0, 0, 0.12);\r\n      overflow: hidden;\r\n      display: flex;\r\n      flex-direction: column;\r\n      animation: er-fade-in 0.3s ease-out;\r\n    }\r\n\r\n    @keyframes er-fade-in {\r\n      from { opacity: 0; transform: translateY(10px) scale(0.98); }\r\n      to { opacity: 1; transform: translateY(0) scale(1); }\r\n    }\r\n\r\n    .er-header {\r\n      display: flex;\r\n      justify-content: space-between;\r\n      align-items: center;\r\n      padding: 14px 16px;\r\n      border-bottom: 1px solid var(--er-border);\r\n      cursor: move;\r\n      background: hsla(var(--muted, 210 20% 96%), 0.5);\r\n    }\r\n    .er-header span { font-weight: 600; font-size: 14px; }\r\n    \r\n    .er-header-actions { display: flex; gap: 4px; }\r\n    \r\n    .er-icon-btn {\r\n      background: transparent;\r\n      border: none;\r\n      padding: 6px;\r\n      border-radius: 6px;\r\n      cursor: pointer;\r\n      display: flex;\r\n      align-items: center;\r\n      justify-content: center;\r\n      color: var(--er-muted-foreground);\r\n      transition: background 0.2s;\r\n    }\r\n    .er-icon-btn:hover { background: var(--er-muted); color: var(--er-foreground); }\r\n\r\n    .er-body {\r\n      padding: 16px;\r\n      display: flex;\r\n      flex-direction: column;\r\n      gap: 12px;\r\n    }\r\n    \r\n    .er-label { font-size: 12px; font-weight: 500; color: var(--er-muted-foreground); margin-bottom: -4px; }\r\n    \r\n    .er-input, .er-textarea {\r\n      background: var(--er-bg);\r\n      border: 1px solid var(--er-border);\r\n      border-radius: 8px;\r\n      padding: 10px 12px;\r\n      font-size: 14px;\r\n      width: 100%;\r\n      box-sizing: border-box;\r\n      transition: border-color 0.2s, box-shadow 0.2s;\r\n      color: var(--er-foreground);\r\n      font-family: inherit;\r\n    }\r\n    .er-input:focus, .er-textarea:focus {\r\n      outline: none;\r\n      border-color: var(--er-primary);\r\n      box-shadow: 0 0 0 3px hsla(var(--primary, 195 100% 43%), 0.1);\r\n    }\r\n    \r\n    .er-textarea { min-height: 100px; resize: none; }\r\n\r\n    .er-footer {\r\n      display: flex;\r\n      justify-content: flex-end;\r\n      gap: 8px;\r\n      padding: 12px 16px;\r\n      background: hsla(var(--muted, 210 20% 96%), 0.3);\r\n      border-top: 1px solid var(--er-border);\r\n    }\r\n\r\n    .er-btn {\r\n      border: 1px solid var(--er-border);\r\n      padding: 8px 14px;\r\n      border-radius: 8px;\r\n      cursor: pointer;\r\n      font-size: 13px;\r\n      font-weight: 500;\r\n      background: var(--er-bg);\r\n      transition: all 0.2s;\r\n      color: var(--er-foreground);\r\n    }\r\n    .er-btn:hover { background: var(--er-muted); }\r\n    .er-btn.primary {\r\n      background: var(--er-primary);\r\n      border-color: var(--er-primary);\r\n      color: white;\r\n    }\r\n    .er-btn.primary:hover { filter: brightness(1.1); transform: translateY(-1px); }\r\n    .er-btn.primary:disabled { opacity: 0.6; cursor: not-allowed; transform: none; }\r\n\r\n    .er-status {\r\n      font-size: 12px;\r\n      padding: 10px 16px;\r\n      text-align: center;\r\n      border-top: 1px solid var(--er-border);\r\n      transition: opacity 0.4s ease, transform 0.4s ease;\r\n    }\r\n    .er-status.er-fading { opacity: 0; transform: translateY(-4px); }\r\n    .er-success { background: #f0fdf4; color: #166534; }\r\n    .er-error { background: #fef2f2; color: #991b1b; }\r\n    .er-loading { background: hsla(var(--primary, 195 100% 43%), 0.05); color: var(--er-primary); }\r\n    \r\n    .er-hidden { display: none !important; }\r\n  `;\r\n  return style;\r\n}\r\n\r\nexport function initErrorReporter(config: ErrorReporterConfig): ErrorReporterAPI {\r\n  if (\r\n    !config ||\r\n    !config.endpoints?.Bug ||\r\n    !config.endpoints?.[\"New Ticket\"] ||\r\n    !config.apiKey\r\n  ) {\r\n    throw new Error(\"ErrorReporter: Missing required configuration.\");\r\n  }\r\n\r\n  if (window.__tixlyErrorReporterInitialized)\r\n    return window.__tixlyErrorReporterAPI as ErrorReporterAPI;\r\n  window.__tixlyErrorReporterInitialized = true;\r\n\r\n  const ENDPOINTS = config.endpoints;\r\n  const API_KEY = config.apiKey;\r\n\r\n  const root = createEl(\"div\", { class: \"er-root\" });\r\n  const style = renderStyles();\r\n  document.head.appendChild(style);\r\n  document.body.appendChild(root);\r\n\r\n  let visible = false,\r\n    minimized = false,\r\n    loading = false;\r\n\r\n  // Icons Utility\r\n  const getIcon = (name: string) => {\r\n    const icons: Record<string, string> = {\r\n      bug: `<svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"><path d=\"m8 2 1.88 1.88\"/><path d=\"M14.12 3.88 16 2\"/><path d=\"M9 7.13v-1a3.003 3.003 0 1 1 6 0v1\"/><path d=\"M12 20c-3.3 0-6-2.7-6-6v-3a4 4 0 0 1 4-4h4a4 4 0 0 1 4 4v3c0 3.3-2.7 6-6 6\"/><path d=\"M12 20v-9\"/><path d=\"M6.53 9C4.6 8.8 3 7.1 3 5\"/><path d=\"M6 13H2\"/><path d=\"M3 21c0-2.1 1.7-3.9 3.8-4\"/><path d=\"M20.97 5c0 2.1-1.6 3.8-3.5 4\"/><path d=\"M22 13h-4\"/><path d=\"M17.2 17c2.1.1 3.8 1.9 3.8 4\"/></svg>`,\r\n      close: `<svg width=\"14\" height=\"14\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2.5\" stroke-linecap=\"round\" stroke-linejoin=\"round\"><path d=\"M18 6 6 18\"/><path d=\"m6 6 12 12\"/></svg>`,\r\n      minimize: `<svg width=\"14\" height=\"14\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2.5\" stroke-linecap=\"round\" stroke-linejoin=\"round\"><path d=\"M5 12h14\"/></svg>`,\r\n      send: `<svg width=\"14\" height=\"14\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"><path d=\"m22 2-7 20-4-9-9-4Z\"/><path d=\"M22 2 11 13\"/></svg>`,\r\n    };\r\n    return icons[name] || \"\";\r\n  };\r\n\r\n  // Badge (FAB)\r\n  const badge = createEl(\"button\", { class: \"er-badge\" });\r\n  badge.innerHTML = `${getIcon(\"bug\")} <span>Report Error</span>`;\r\n  root.appendChild(badge);\r\n\r\n  // Widget\r\n  const widget = createEl(\"div\", { class: \"er-widget er-hidden\" });\r\n  const header = createEl(\"div\", { class: \"er-header\" }, [\r\n    createEl(\"span\", {}, [text(\"Error Reporter\")]),\r\n    createEl(\"div\", { class: \"er-header-actions\" }, [\r\n      createEl(\r\n        \"button\",\r\n        { class: \"er-icon-btn\", \"aria-label\": \"Minimize\" },\r\n        [],\r\n      ),\r\n      createEl(\"button\", { class: \"er-icon-btn\", \"aria-label\": \"Close\" }, []),\r\n    ]),\r\n  ]);\r\n  header.querySelector('[aria-label=\"Minimize\"]')!.innerHTML =\r\n    getIcon(\"minimize\");\r\n  header.querySelector('[aria-label=\"Close\"]')!.innerHTML = getIcon(\"close\");\r\n  widget.appendChild(header);\r\n\r\n  const body = createEl(\"div\", { class: \"er-body\" });\r\n\r\n  body.appendChild(\r\n    createEl(\"label\", { class: \"er-label\" }, [text(\"Report Type\")]),\r\n  );\r\n  const typeSelect = createEl(\"select\", { class: \"er-input\" }, [\r\n    createEl(\"option\", { value: \"Bug\" }, [text(\"Bug\")]),\r\n    createEl(\"option\", { value: \"New Ticket\" }, [text(\"New Ticket\")]),\r\n  ]);\r\n  body.appendChild(typeSelect);\r\n\r\n  body.appendChild(\r\n    createEl(\"label\", { class: \"er-label\" }, [text(\"Description\")]),\r\n  );\r\n  const desc = createEl(\"textarea\", {\r\n    class: \"er-textarea\",\r\n    placeholder: \"What happened? How can we fix it?\",\r\n  }) as HTMLTextAreaElement;\r\n  body.appendChild(desc);\r\n\r\n  widget.appendChild(body);\r\n\r\n  const footer = createEl(\"div\", { class: \"er-footer\" });\r\n  const cancel = createEl(\"button\", { class: \"er-btn\" }, [text(\"Cancel\")]);\r\n  const submit = createEl(\"button\", { class: \"er-btn primary\" });\r\n  submit.innerHTML = `<span>Submit</span>`;\r\n\r\n  footer.appendChild(cancel);\r\n  footer.appendChild(submit);\r\n  widget.appendChild(footer);\r\n\r\n  const status = createEl(\"div\", { class: \"er-status er-hidden\" });\r\n  widget.appendChild(status);\r\n\r\n  root.appendChild(widget);\r\n\r\n  function updateVisibility() {\r\n    widget.classList.toggle(\"er-hidden\", !visible || minimized);\r\n    badge.classList.toggle(\"er-hidden\", visible && !minimized);\r\n    if (visible && !minimized) desc.focus();\r\n  }\r\n\r\n  function showStatus(\r\n    msg: string | null,\r\n    type: \"success\" | \"error\" | \"loading\" | null = null,\r\n  ) {\r\n    if (!msg) {\r\n      status.classList.add(\"er-hidden\");\r\n      return;\r\n    }\r\n    status.textContent = msg;\r\n    status.className = `er-status er-${type}`;\r\n    status.classList.remove(\"er-hidden\", \"er-fading\");\r\n\r\n    if (type === \"success\" || type === \"error\") {\r\n      setTimeout(() => {\r\n        status.classList.add(\"er-fading\");\r\n        setTimeout(() => status.classList.add(\"er-hidden\"), 400);\r\n      }, 4000);\r\n    }\r\n  }\r\n\r\n  async function submitReport() {\r\n    const payload: ErrorReportPayload = {\r\n      project_key: deriveProjectKey(),\r\n      module: deriveModule(),\r\n      tab: deriveTab(),\r\n      description: desc.value.trim(),\r\n      reported_by: deriveReportedBy(),\r\n    };\r\n\r\n    if (!payload.description) {\r\n      showStatus(\"Please describe the issue\", \"error\");\r\n      return;\r\n    }\r\n\r\n    loading = true;\r\n    (submit as HTMLButtonElement).disabled = true;\r\n    showStatus(\"Sending report...\", \"loading\");\r\n\r\n    try {\r\n      const res = await fetchWithRetry(\r\n        ENDPOINTS[typeSelect.value as \"Bug\" | \"New Ticket\"],\r\n        payload,\r\n        API_KEY,\r\n      );\r\n\r\n      const data = await res.json();\r\n\r\n      if (data.success) {\r\n        showStatus(\"Message sent\", \"success\");\r\n        desc.value = \"\";\r\n        setTimeout(() => {\r\n          visible = false;\r\n          updateVisibility();\r\n        }, 2000);\r\n      } else {\r\n        // Extract error message from structured response\r\n        let msg = data.error || \"Failed to send report\";\r\n        if (data.details && data.details[0]) {\r\n          const detail = data.details[0];\r\n          if (typeof detail === \"string\" && detail.includes(\"error:\")) {\r\n            msg = detail.split(\"error:\")[1].trim().replace(/[\"{}]/g, \"\");\r\n          } else {\r\n            msg = detail;\r\n          }\r\n        }\r\n        throw new Error(msg);\r\n      }\r\n    } catch (e: any) {\r\n      let errorMsg = e.message || \"Could not send report\";\r\n\r\n      if (errorMsg.includes(\"HTTP\")) {\r\n        errorMsg = \"Server error. Please try again later.\";\r\n      }\r\n\r\n      // Limit length to keep it minimalist\r\n      if (errorMsg.length > 60) errorMsg = errorMsg.substring(0, 57) + \"...\";\r\n\r\n      showStatus(errorMsg, \"error\");\r\n    } finally {\r\n      loading = false;\r\n      (submit as HTMLButtonElement).disabled = false;\r\n    }\r\n  }\r\n\r\n  badge.addEventListener(\"click\", () => {\r\n    visible = !visible;\r\n    minimized = false;\r\n    updateVisibility();\r\n  });\r\n\r\n  header\r\n    .querySelector('button[aria-label=\"Minimize\"]')!\r\n    .addEventListener(\"click\", () => {\r\n      minimized = true;\r\n      updateVisibility();\r\n    });\r\n\r\n  header\r\n    .querySelector('button[aria-label=\"Close\"]')!\r\n    .addEventListener(\"click\", () => {\r\n      visible = false;\r\n      updateVisibility();\r\n    });\r\n\r\n  cancel.addEventListener(\"click\", () => {\r\n    visible = false;\r\n    updateVisibility();\r\n  });\r\n\r\n  submit.addEventListener(\"click\", () => {\r\n    if (!loading) submitReport();\r\n  });\r\n\r\n  // Drag logic\r\n  let dragging = false,\r\n    offsetX = 0,\r\n    offsetY = 0;\r\n  header.addEventListener(\"mousedown\", (e) => {\r\n    dragging = true;\r\n    const rect = root.getBoundingClientRect();\r\n    offsetX = e.clientX - rect.left;\r\n    offsetY = e.clientY - rect.top;\r\n    document.body.style.userSelect = \"none\";\r\n  });\r\n  document.addEventListener(\"mouseup\", () => {\r\n    dragging = false;\r\n    document.body.style.userSelect = \"\";\r\n  });\r\n  document.addEventListener(\"mousemove\", (e) => {\r\n    if (!dragging) return;\r\n    root.style.left = `${Math.max(0, Math.min(window.innerWidth - root.offsetWidth, e.clientX - offsetX))}px`;\r\n    root.style.top = `${Math.max(0, Math.min(window.innerHeight - root.offsetHeight, e.clientY - offsetY))}px`;\r\n    root.style.right = \"auto\";\r\n    root.style.bottom = \"auto\";\r\n  });\r\n\r\n  const api: ErrorReporterAPI = {\r\n    open: () => {\r\n      visible = true;\r\n      minimized = false;\r\n      updateVisibility();\r\n    },\r\n    close: () => {\r\n      visible = false;\r\n      updateVisibility();\r\n    },\r\n    toggle: () => {\r\n      visible = !visible;\r\n      minimized = false;\r\n      updateVisibility();\r\n    },\r\n  };\r\n  window.__tixlyErrorReporterAPI = api;\r\n  updateVisibility();\r\n  return api;\r\n}\r\n"],
  "mappings": "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",
  "names": ["deriveModule", "deriveTab", "deriveProjectKey", "deriveReportedBy", "createEl", "tag", "attrs", "children", "el", "k", "v", "c", "text", "t", "fetchWithRetry", "url", "payload", "apiKey", "attempts", "delay", "lastErr", "res", "e", "r", "renderStyles", "style", "initErrorReporter", "config", "ENDPOINTS", "API_KEY", "root", "visible", "minimized", "loading", "getIcon", "name", "badge", "widget", "header", "body", "typeSelect", "desc", "footer", "cancel", "submit", "status", "updateVisibility", "showStatus", "msg", "type", "submitReport", "data", "detail", "errorMsg", "dragging", "offsetX", "offsetY", "rect", "api"]
}
